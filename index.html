<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="St Johns Chapel, Mengo - A Place of Worship, Fellowship & Growth. Join us for Sunday services and experience God's love.">
    <meta name="keywords" content="St Johns Chapel, Mengo, Church, Uganda, Worship, Fellowship">
    <title>St Johns Chapel, Mengo | A Place of Worship, Fellowship & Growth</title>
    
    <!-- Favicon -->
    <link rel="icon" type="image/jpeg" href="logo.jpg">
    <link rel="apple-touch-icon" href="logo.jpg">
    
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@400;500;600;700&family=Playfair+Display:wght@400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- Font Awesome for Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- Main Stylesheet -->
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar">
        <div class="container">
            <a href="index.html" class="logo">
                <img src="logo.jpg" alt="St Johns Chapel Logo" class="logo-image">
                <div class="logo-text">
                    St Johns Chapel
                    <span>Mengo</span>
                </div>
            </a>
            
            <ul class="nav-links">
                <li><a href="index.html" class="active">Home</a></li>
                <li><a href="about.html">About Us</a></li>
                <li><a href="sermons.html">Sermons</a></li>
                <li><a href="events.html">Events</a></li>
                <li><a href="ministries.html">Ministries</a></li>
                <li><a href="giving.html">Giving</a></li>
                <li><a href="contact.html">Contact</a></li>
            </ul>
            
            <div class="nav-toggle">
                <span></span>
                <span></span>
                <span></span>
            </div>
        </div>
    </nav>

    <!-- Hero Section -->
    <section class="hero">
        <div class="hero-bg"></div>
        <div class="hero-content">
            <h1>St Johns Chapel, Mengo</h1>
            <p class="tagline">"A Place of Worship, Fellowship & Growth"</p>
            <div class="hero-buttons">
                <a href="#service-times" class="btn btn-gold">Join Us This Sunday</a>
                <a href="sermons.html" class="btn btn-outline" style="border-color: white; color: white;">Watch Sermons</a>
                <a href="contact.html" class="btn btn-outline" style="border-color: white; color: white;">Contact Us</a>
            </div>
        </div>
    </section>

    <!-- Welcome Section -->
    <section class="section" id="welcome">
        <div class="container">
            <div class="welcome-section">
                <div class="welcome-image">
                    <img src="https://images.unsplash.com/photo-1438232992991-995b7058bbb3?w=600&h=400&fit=crop" alt="Church Congregation">
                </div>
                <div class="welcome-content">
                    <h2>Welcome to St Johns Chapel</h2>
                    <p>Dear beloved brothers and sisters in Christ,</p>
                    <p>It is with great joy that we welcome you to St Johns Chapel, Mengo. For generations, our church has been a beacon of hope, a place of worship, and a community of believers committed to growing in faith and serving our Lord Jesus Christ.</p>
                    <p>Whether you are seeking a spiritual home, looking for answers to life's questions, or simply want to experience the warmth of Christian fellowship, you will find a place here with us. Our doors are open to all who seek to know God and experience His love.</p>
                    <p>We invite you to join us for our Sunday services, participate in our various ministries, and become part of our church family. May God richly bless you as you journey with us.</p>
                    <p class="signature">In His Service,<br><strong>Rev. Canon. James Ssempala</strong><br><em>Senior Pastor</em></p>
                </div>
            </div>
        </div>
    </section>

    <!-- Service Times Section -->
    <section class="service-times" id="service-times">
        <div class="container">
            <div class="section-header">
                <h3>Service Times</h3>
                <p>Join us for worship and fellowship</p>
            </div>
            <div class="service-grid">
                <div class="service-card">
                    <h4><i class="fas fa-sun"></i> Sunday Service</h4>
                    <p class="time">8:00 AM & 10:30 AM</p>
                    <p>Main worship service with praise, prayer, and preaching of the Word</p>
                </div>
                <div class="service-card">
                    <h4><i class="fas fa-book-bible"></i> Bible Study</h4>
                    <p class="time">Wednesday 6:00 PM</p>
                    <p>Mid-week Bible study and prayer meeting</p>
                </div>
                <div class="service-card">
                    <h4><i class="fas fa-moon"></i> Evening Service</h4>
                    <p class="time">Sunday 6:00 PM</p>
                    <p>Evening worship and communion service</p>
                </div>
                <div class="service-card">
                    <h4><i class="fas fa-child"></i> Sunday School</h4>
                    <p class="time">Sunday 9:00 AM</p>
                    <p>Classes for children of all ages during the service</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Upcoming Events Section -->
    <section class="section section-light" id="events">
        <div class="container">
            <div class="section-header">
                <h2>Upcoming Events</h2>
                <div class="divider"></div>
                <p>Join us for these special gatherings and celebrations</p>
            </div>
            <div class="events-preview">
                <div class="event-card">
                    <div class="event-date">
                        <span class="day">23</span>
                        <span class="month">Feb</span>
                    </div>
                    <div class="event-info">
                        <h4>Youth Revival Conference</h4>
                        <p class="time"><i class="fas fa-clock"></i> 9:00 AM - 4:00 PM</p>
                        <p>A special conference for young people featuring guest speakers, worship, and fellowship.</p>
                    </div>
                </div>
                <div class="event-card">
                    <div class="event-date">
                        <span class="day">02</span>
                        <span class="month">Mar</span>
                    </div>
                    <div class="event-info">
                        <h4>Women's Fellowship Meeting</h4>
                        <p class="time"><i class="fas fa-clock"></i> 3:00 PM</p>
                        <p>Monthly gathering for women to share, pray, and grow together in faith.</p>
                    </div>
                </div>
                <div class="event-card">
                    <div class="event-date">
                        <span class="day">15</span>
                        <span class="month">Mar</span>
                    </div>
                    <div class="event-info">
                        <h4>Choir Festival</h4>
                        <p class="time"><i class="fas fa-clock"></i> 2:00 PM</p>
                        <p>Annual choir festival featuring performances from various church choirs.</p>
                    </div>
                </div>
            </div>
            <div class="text-center mt-4">
                <a href="events.html" class="btn btn-primary">View All Events</a>
            </div>
        </div>
    </section>

    <!-- Quick Links Section -->
    <section class="section" id="quick-links">
        <div class="container">
            <div class="section-header">
                <h2>Quick Links</h2>
                <div class="divider"></div>
                <p>Explore what St Johns Chapel has to offer</p>
            </div>
            <div class="quick-links">
                <a href="sermons.html" class="quick-link-card">
                    <i class="fas fa-play-circle"></i>
                    <h4>Watch Sermons</h4>
                    <p>Listen to past sermons and grow in your faith</p>
                </a>
                <a href="ministries.html" class="quick-link-card">
                    <i class="fas fa-hands-helping"></i>
                    <h4>Our Ministries</h4>
                    <p>Discover ways to serve and get involved</p>
                </a>
                <a href="giving.html" class="quick-link-card">
                    <i class="fas fa-heart"></i>
                    <h4>Give Online</h4>
                    <p>Support the ministry with your tithes and offerings</p>
                </a>
                <a href="about.html" class="quick-link-card">
                    <i class="fas fa-church"></i>
                    <h4>About Us</h4>
                    <p>Learn about our history, mission, and beliefs</p>
                </a>
            </div>
        </div>
    </section>

     <!-- Latest Sermons Section -->
    <section class="section section-light" id="latest-sermons">
        <div class="container">
            <div class="section-header">
                <h2>Latest Sermons</h2>
                <div class="divider"></div>
                <p>Grow in faith through the preaching of God's Word</p>
            </div>
            <div class="sermons-grid" id="latest-sermons-grid">
                <!-- Sermons will be loaded dynamically from Firebase -->
                <div class="no-sermons-message" id="no-latest-sermons" style="display: none; text-align: center; padding: 60px 20px; background: var(--white); border-radius: 12px; box-shadow: var(--shadow); grid-column: 1 / -1;">
                    <i class="fas fa-video-slash" style="font-size: 4rem; color: var(--gold); margin-bottom: 20px;"></i>
                    <h3 style="color: var(--primary-blue); margin-bottom: 15px;">No Sermons Available</h3>
                    <p style="color: var(--medium-gray); margin-bottom: 25px;">Sermons will appear here once they are added through the Admin panel.</p>
                    <a href="admin.html" class="btn btn-primary"><i class="fas fa-plus"></i> Add Sermons</a>
                </div>
            </div>
            <div class="text-center mt-4">
                <a href="sermons.html" class="btn btn-primary">View All Sermons</a>
            </div>
        </div>
    </section>

    <!-- Call to Action Section -->
    <section class="section section-dark">
        <div class="container text-center">
            <h2>Join Us This Sunday</h2>
            <p>Experience the presence of God and the warmth of our church family. Everyone is welcome!</p>
            <div class="mt-3">
                <a href="contact.html" class="btn btn-gold">Get Directions</a>
                <a href="contact.html" class="btn btn-outline" style="border-color: white; color: white; margin-left: 15px;">Contact Us</a>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-grid">
                <div class="footer-section">
                    <h4>St Johns Chapel, Mengo</h4>
                    <p>A Place of Worship, Fellowship & Growth. We are committed to spreading the Gospel of Jesus Christ and serving our community with love.</p>
                    <div class="footer-social">
                        <a href="#" aria-label="Facebook"><i class="fab fa-facebook-f"></i></a>
                        <a href="#" aria-label="YouTube"><i class="fab fa-youtube"></i></a>
                        <a href="#" aria-label="Instagram"><i class="fab fa-instagram"></i></a>
                        <a href="#" aria-label="Twitter"><i class="fab fa-twitter"></i></a>
                        <a href="admin.html" aria-label="Admin" class="admin-footer-link"><i class="fas fa-cog"></i></a>
                    </div>
                </div>
                <div class="footer-section">
                    <h4>Quick Links</h4>
                    <div class="footer-links">
                        <a href="about.html">About Us</a>
                        <a href="sermons.html">Sermons</a>
                        <a href="events.html">Events</a>
                        <a href="ministries.html">Ministries</a>
                        <a href="giving.html">Giving</a>
                    </div>
                </div>
                <div class="footer-section">
                    <h4>Service Times</h4>
                    <p><strong>Sunday Service:</strong><br>8:00 AM & 10:30 AM</p>
                    <p><strong>Bible Study:</strong><br>Wednesday 6:00 PM</p>
                    <p><strong>Evening Service:</strong><br>Sunday 6:00 PM</p>
                </div>
                <div class="footer-section">
                    <h4>Contact Us</h4>
                    <p><i class="fas fa-map-marker-alt"></i> Mengo, Kampala, Uganda</p>
                    <p><i class="fas fa-phone"></i> +256 414 123 456</p>
                    <p><i class="fas fa-envelope"></i> info@stjohnschapelmengo.org</p>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2025 St Johns Chapel, Mengo. All Rights Reserved.</p>
            </div>
        </div>
    </footer>

    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-database-compat.js"></script>
    <!-- JavaScript -->
    <script src="js/script.js"></script>
    <script src="js/firebase-config.js"></script>
    <script>
        // Load latest sermons from Firebase Realtime Database (same as sermons page)
        document.addEventListener('DOMContentLoaded', async function() {
            try {
                // Initialize Firebase
                firebaseConfig.initialize();
                
                // Fetch sermons from Firebase (with localStorage fallback)
                const sermons = await firebaseConfig.getSermons();
                const grid = document.getElementById('latest-sermons-grid');
                const noSermonsMessage = document.getElementById('no-latest-sermons');
                
                if (sermons.length > 0) {
                    // Hide no sermons message
                    noSermonsMessage.style.display = 'none';
                    
                    // Get first 3 sermons (latest)
                    const latestSermons = sermons.slice(0, 3);
                    
                    // Create sermon cards
                    const sermonCards = latestSermons.map(sermon => createSermonCard(sermon)).join('');
                    
                    // Create a container for dynamic sermons
                    const dynamicContainer = document.createElement('div');
                    dynamicContainer.id = 'dynamic-latest-sermons';
                    dynamicContainer.className = 'sermons-container';
                    dynamicContainer.innerHTML = sermonCards;
                    grid.insertBefore(dynamicContainer, noSermonsMessage);
                } else {
                    // Show no sermons message
                    noSermonsMessage.style.display = 'block';
                }
            } catch (error) {
                console.error('Error loading sermons:', error);
                const noSermonsMessage = document.getElementById('no-latest-sermons');
                if (noSermonsMessage) {
                    noSermonsMessage.style.display = 'block';
                }
            }
        });
        
        // Create a sermon card HTML (matching sermons page structure)
        function createSermonCard(sermon) {
            const formattedDate = formatDate(sermon.date);
            const fallbackThumbnail = 'data:image/svg+xml,' + encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" width="600" height="400" viewBox="0 0 600 400"><rect fill="#1a1a2e" width="600" height="400"/><text fill="#d4af37" font-family="Arial" font-size="18" x="300" y="200" text-anchor="middle">Sermon Thumbnail</text></svg>');
            
            return `
                <div class="sermon-card fade-in">
                    <img src="https://img.youtube.com/vi/${sermon.videoId}/hqdefault.jpg" 
                         alt="${sermon.title}"
                         onerror="this.src='${fallbackThumbnail}'"
                         class="sermon-image">
                    <div class="sermon-content">
                        <div class="sermon-meta">
                            <span><i class="fas fa-calendar"></i> ${formattedDate}</span>
                            <span><i class="fas fa-eye"></i> ${sermon.views} views</span>
                        </div>
                        <h4>${sermon.title}</h4>
                        <p>${sermon.description}</p>
                        <div class="sermon-actions">
                            <a href="sermons.html#${sermon.videoId}" class="btn btn-primary">Watch</a>
                            <a href="sermons.html#${sermon.videoId}" class="btn btn-outline">Listen</a>
                        </div>
                    </div>
                </div>
            `;
        }
        
        // Format date
        function formatDate(dateStr) {
            const date = new Date(dateStr);
            return date.toLocaleDateString('en-US', { 
                month: 'short', 
                day: 'numeric', 
                year: 'numeric' 
            });
        }
    </script>
</body>
</html>